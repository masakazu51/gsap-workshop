<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GSAPのメリット</title>
    <link rel="stylesheet" href="../style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" />
  </head>
  <body>
    <header>
      <h1>GSAPを使うメリット</h1>
    </header>

    <nav>
      <ul>
        <li><a href="../index.html">ホーム</a></li>
        <li><a href="../01_introduction/01_introduction.html">概要</a></li>
        <li><a href="../02_benefits/02_benefits.html" class="active">メリット</a></li>
        <li><a href="../03_good_animation/03_good_animation.html">良いアニメーション</a></li>
        <li><a href="../04_basic_syntax/04_basic_syntax.html">基本構文と例</a></li>
        <li class="dropdown">
          <a href="#">コードサンプル</a>
          <div class="dropdown-content">
            <a href="../05_examples/01_button_hover.html">ボタンホバー</a>
            <a href="../05_examples/02_timeline_sequence.html">タイムライン</a>
            <a href="../05_examples/03_scroll_fade_in.html">スクロールフェード</a>
            <a href="../05_examples/04_scroll_progress.html">スクロール連動</a>
            <a href="../05_examples/05_stagger_animation.html">スタッガー</a>
          </div>
        </li>
      </ul>
    </nav>

    <div class="container">
      <p> GSAPを導入することで得られる主なメリットを紹介します。他のアニメーション手法と比較しながら、GSAPの強みを理解しましょう。 </p>

      <!-- メリット1: 実装の容易さ -->
      <div class="section">
        <h2>1. 実装の容易さとシンプルなコード</h2>
        <ul>
          <li><strong>直感的なAPI</strong>: 少ないコードでアニメーションを記述できます</li>
          <li><strong>一貫した構文</strong>: 様々なプロパティを同じ方法でアニメーション化</li>
          <li><strong>短いコード</strong>: CSS アニメーションや他のライブラリと比べてコード量が少ない</li>
        </ul>

        <div class="demo-container">
          <h3>デモ: GSAPとCSSの比較</h3>

          <div class="box-container">
            <div class="box" id="gsap-box"></div>
          </div>

          <div class="controls">
            <button id="run-gsap">GSAPで実行</button>
            <button id="run-css">CSSで実行</button>
            <button id="reset-boxes">リセット</button>
          </div>

          <h4>GSAPのコード</h4>
          <div class="code-block">
            <pre><code class="language-javascript">// GSAP - たった1行でシンプル
gsap.to("#gsap-box", {
  x: 300,
  duration: 1,
  ease: "power1.out"
});</code></pre>
          </div>

          <h4>CSSのコード</h4>
          <div class="code-block">
            <pre><code class="language-css">/* CSSにトランジションを定義 */
.box.moved {
  transform: translateX(300px);
  transition: transform 1s ease-out;
}

// JavaScriptでクラスを追加
document.querySelector('#gsap-box').classList.add('moved');</code></pre>
          </div>
        </div>
      </div>

      <!-- メリット2: アニメーション管理 -->
      <div class="section">
        <h2>2. アニメーション管理の簡素化</h2>
        <ul>
          <li><strong>タイムライン機能</strong>: 複数のアニメーションを簡単に連携できる</li>
          <li><strong>コントロールAPI</strong>: 一時停止、再開、逆再生などが簡単</li>
          <li><strong>シーケンス管理</strong>: 連続した動きの制御が容易</li>
        </ul>

        <div class="demo-container">
          <h3>デモ: タイムライン機能</h3>

          <div class="box-container" style="height: 150px">
            <div class="box" id="timeline-box1"></div>
            <div class="box box-red" id="timeline-box2" style="top: 75px"></div>
            <div class="box box-green" id="timeline-box3" style="top: 25px"></div>
          </div>

          <div class="controls">
            <button id="run-timeline">タイムライン実行</button>
            <button id="pause-timeline">一時停止</button>
            <button id="resume-timeline">再開</button>
            <button id="reverse-timeline">逆再生</button>
            <button id="reset-timeline">リセット</button>
          </div>

          <h4>タイムラインのコード</h4>
          <div class="code-block">
            <pre><code class="language-javascript">// 複数のアニメーションを連続して実行
const tl = gsap.timeline();
tl.to("#timeline-box1", { x: 300, duration: 1 })
  .to("#timeline-box2", { y: 50, duration: 1 })
  .to("#timeline-box3", { rotation: 360, duration: 1 });</code></pre>
          </div>
        </div>
      </div>

      <!-- メリット3: 柔軟な制御 -->
      <div class="section">
        <h2>3. 柔軟な制御</h2>
        <ul>
          <li><strong>再生制御</strong>: play(), pause(), reverse(), restart() などのメソッド</li>
          <li><strong>コールバック関数</strong>: アニメーションの特定のタイミングで処理を実行可能</li>
          <li><strong>動的なパラメータ変更</strong>: 実行中のアニメーションのプロパティを変更可能</li>
        </ul>

        <div class="demo-container">
          <h3>デモ: アニメーション制御</h3>

          <div class="box-container">
            <div class="box box-orange" id="control-box"></div>
          </div>

          <div class="controls">
            <button id="play-control">再生</button>
            <button id="pause-control">一時停止</button>
            <button id="reverse-control">逆再生</button>
            <button id="restart-control">最初から</button>
            <button id="slow-control">遅く</button>
            <button id="fast-control">速く</button>
          </div>

          <h4>アニメーション制御のコード</h4>
          <div class="code-block">
            <pre><code class="language-javascript">// アニメーションインスタンスを変数に代入
const animation = gsap.to("#control-box", {
  x: 300,
  duration: 2,
  paused: true // 最初は一時停止状態
});

// 再生
playButton.addEventListener("click", () => {
  animation.play();
});

// 一時停止
pauseButton.addEventListener("click", () => {
  animation.pause();
});</code></pre>
          </div>
        </div>
      </div>

      <!-- メリット4: イージング -->
      <div class="section">
        <h2>4. 豊富なイージングと演出機能</h2>
        <p>GSAPには多くのイージング関数が組み込まれており、自然な動きを簡単に実現できます。</p>

        <div class="demo-container">
          <h3>デモ: 様々なイージング</h3>

          <div class="box-container">
            <div class="box" id="ease-box"></div>
          </div>

          <div class="controls">
            <button id="ease-none">無し (直線)</button>
            <button id="ease-out">減速</button>
            <button id="ease-in">加速</button>
            <button id="ease-inout">加速して減速</button>
            <button id="ease-bounce">バウンス</button>
            <button id="ease-elastic">弾性</button>
          </div>

          <h4>イージングのコード例</h4>
          <div class="code-block">
            <pre><code class="language-javascript">// 減速（最初は速く、最後はゆっくり）
gsap.to("#ease-box", { x: 300, ease: "power1.out", duration: 1 });

// 加速（最初はゆっくり、最後は速く）
gsap.to("#ease-box", { x: 300, ease: "power1.in", duration: 1 });

// 加速してから減速
gsap.to("#ease-box", { x: 300, ease: "power1.inOut", duration: 1 });

// バウンス
gsap.to("#ease-box", { x: 300, ease: "bounce.out", duration: 1 });

// 弾性
gsap.to("#ease-box", { x: 300, ease: "elastic.out(1,0.3)", duration: 1 });</code></pre>
          </div>
        </div>
      </div>

      <!-- メリット5: 軽量・高性能 -->
      <div class="section">
        <h2>5. 軽量・高性能</h2>
        <ul>
          <li><strong>ファイルサイズ</strong>: 圧縮時約 50KB（CDN 版 GSAP 3 のコア）</li>
          <li><strong>パフォーマンス</strong>: 最適化されたコードで高いパフォーマンスを発揮</li>
          <li><strong>自動的な最適化</strong>: transformやopacityなど、GPUアクセラレーションが効くプロパティを利用</li>
        </ul>
      </div>

      <!-- 比較表 -->
      <h2>他のアニメーション手法との比較</h2>
      <p>GSAPと他のアニメーション手法を比較してみましょう：</p>

      <table aria-label="アニメーションライブラリの比較">
        <tr>
          <th>機能</th>
          <th>GSAP</th>
          <th>CSS Animations</th>
          <th>jQuery</th>
        </tr>
        <tr>
          <td>実装の容易さ</td>
          <td>★★★★★</td>
          <td>★★★</td>
          <td>★★★</td>
        </tr>
        <tr>
          <td>複雑なアニメーション</td>
          <td>★★★★★</td>
          <td>★★</td>
          <td>★★★</td>
        </tr>
        <tr>
          <td>パフォーマンス</td>
          <td>★★★★★</td>
          <td>★★★★</td>
          <td>★★</td>
        </tr>
        <tr>
          <td>アニメーション制御</td>
          <td>★★★★★</td>
          <td>★</td>
          <td>★★</td>
        </tr>
        <tr>
          <td>学習コスト</td>
          <td>★★★</td>
          <td>★★★★</td>
          <td>★★★★</td>
        </tr>
      </table>

      <!-- 初学者向けの注意点 -->
      <div class="section">
        <h2>初学者が注意すべきポイント</h2>
        <ul>
          <li><strong>ライブラリの読み込み</strong>: GSAPを使用する前に必ずスクリプトを読み込む</li>
          <li><strong>プラグイン登録</strong>: ScrollTriggerなどのプラグインは使用前に登録が必要</li>
          <li><strong>HTML構造</strong>: アニメーションの前にDOM要素が存在していることを確認</li>
        </ul>

        <div class="code-block">
          <pre><code class="language-html">&lt;!-- GSAPの正しい読み込み方 --&gt;
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"&gt;&lt;/script&gt;

&lt;!-- プラグインを使う場合は追加で読み込む --&gt;
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"&gt;&lt;/script&gt;
&lt;script&gt;
  // プラグインの登録（忘れやすいポイント）
  gsap.registerPlugin(ScrollTrigger);

  // ここからアニメーションコード
&lt;/script&gt;</code></pre>
        </div>
      </div>

      <div class="next-step">
        <h2>次のステップ</h2>
        <p>良いアニメーションの原則について学びましょう：<a href="../03_good_animation/03_good_animation.html">Webでの良いアニメーション</a></p>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-css.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-markup.min.js" defer></script>
    <script src="../common.js" defer></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // GSAP vs CSS デモ
        document.getElementById("run-gsap").addEventListener("click", function () {
          gsap.to("#gsap-box", {
            x: 300,
            duration: 1,
            ease: "power1.out",
          });
        });

        document.getElementById("run-css").addEventListener("click", function () {
          document.getElementById("gsap-box").classList.add("moved");
        });

        document.getElementById("reset-boxes").addEventListener("click", function () {
          gsap.to("#gsap-box", { x: 0, duration: 0.5 });
          document.getElementById("gsap-box").classList.remove("moved");
        });

        // タイムラインデモ
        let timeline;
        document.getElementById("run-timeline").addEventListener("click", function () {
          // タイムラインをリセット
          if (timeline) timeline.kill();

          // 位置をリセット
          gsap.set(["#timeline-box1", "#timeline-box2", "#timeline-box3"], {
            x: 0,
            y: 0,
            rotation: 0,
          });

          // 新しいタイムラインを作成
          timeline = gsap.timeline();
          timeline.to("#timeline-box1", { x: 300, duration: 1 }).to("#timeline-box2", { y: 50, duration: 1 }).to("#timeline-box3", { rotation: 360, duration: 1 });
        });

        document.getElementById("pause-timeline").addEventListener("click", function () {
          if (timeline) timeline.pause();
        });

        document.getElementById("resume-timeline").addEventListener("click", function () {
          if (timeline) timeline.play();
        });

        document.getElementById("reverse-timeline").addEventListener("click", function () {
          if (timeline) timeline.reverse();
        });

        document.getElementById("reset-timeline").addEventListener("click", function () {
          if (timeline) timeline.kill();
          gsap.set(["#timeline-box1", "#timeline-box2", "#timeline-box3"], {
            x: 0,
            y: 0,
            rotation: 0,
          });
        });

        // アニメーション制御デモ
        let controlAnimation;
        document.getElementById("play-control").addEventListener("click", function () {
          if (!controlAnimation) {
            controlAnimation = gsap.to("#control-box", {
              x: 300,
              duration: 2,
              paused: true,
            });
          }
          controlAnimation.play();
        });

        document.getElementById("pause-control").addEventListener("click", function () {
          if (controlAnimation) controlAnimation.pause();
        });

        document.getElementById("reverse-control").addEventListener("click", function () {
          if (controlAnimation) controlAnimation.reverse();
        });

        document.getElementById("restart-control").addEventListener("click", function () {
          if (controlAnimation) controlAnimation.restart();
        });

        document.getElementById("slow-control").addEventListener("click", function () {
          if (controlAnimation) controlAnimation.timeScale(0.5);
        });

        document.getElementById("fast-control").addEventListener("click", function () {
          if (controlAnimation) controlAnimation.timeScale(2);
        });

        // イージングデモ
        const resetEaseBox = () => {
          gsap.to("#ease-box", { x: 0, duration: 0.2 });
        };

        document.getElementById("ease-none").addEventListener("click", function () {
          resetEaseBox();
          gsap.to("#ease-box", { x: 300, ease: "none", duration: 1 });
        });

        document.getElementById("ease-out").addEventListener("click", function () {
          resetEaseBox();
          gsap.to("#ease-box", { x: 300, ease: "power1.out", duration: 1 });
        });

        document.getElementById("ease-in").addEventListener("click", function () {
          resetEaseBox();
          gsap.to("#ease-box", { x: 300, ease: "power1.in", duration: 1 });
        });

        document.getElementById("ease-inout").addEventListener("click", function () {
          resetEaseBox();
          gsap.to("#ease-box", { x: 300, ease: "power1.inOut", duration: 1 });
        });

        document.getElementById("ease-bounce").addEventListener("click", function () {
          resetEaseBox();
          gsap.to("#ease-box", { x: 300, ease: "bounce.out", duration: 1 });
        });

        document.getElementById("ease-elastic").addEventListener("click", function () {
          resetEaseBox();
          gsap.to("#ease-box", { x: 300, ease: "elastic.out(1,0.3)", duration: 1 });
        });
      });
    </script>
  </body>
</html>
